#ifndef RECOVERY_H
#define RECOVERY_H

#include <AlfieLoader.h>
#include <utils/log.h>
#include <usb/usb.h>
#include <libimobiledevice/libimobiledevice.h>
#include <libimobiledevice/lockdown.h>
#include <libimobiledevice/diagnostics_relay.h>

// ******************************************************
// Function: enterRecoveryMode()
//
// Purpose: Puts the device into recovery mode
//
// Returns:
//      int: 0 if the device entered recovery mode successfully, 1 otherwise
//
// This function was taken from palera1n and adapted for AlfieLoader
// ******************************************************
int enterRecoveryMode();

// ******************************************************
// Function: sendRecoveryModeCommand()
//
// Purpose: Sends a command to the device in recovery mode
//
// Parameters:
//      usb_handle_t *handle: the usb handle to use
//      char *command: the command to send
//
// Returns:
//      bool: true if the command was sent successfully, false otherwise
//
// This function was taken from libirecovery and adapted for AlfieLoader
// ******************************************************
bool sendRecoveryModeCommand(usb_handle_t *handle, char *command);

#endif // RECOVERY_H